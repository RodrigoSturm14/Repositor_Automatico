<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplo de JavaScript en un Archivo Externo</title>
    <link rel="stylesheet" href="V1.css">
    <!-- Enlaza el archivo JavaScript externo -->
    <script src="V1.js"></script>
</head>
<body>

<button onclick="AgregarNuevoProduto()">Agregar Nuevo Producto</button>
<script>
 function AgregarNuevoProduto(){
    const NuevoProducto = NuevoProd("Recistencia 10k","R.jpeg",1000);
 }
</script>
    

   <!--  <h1>Mi Página Web</h1>

    <p id="miParrafo">Este es un párrafo.</p>

    <button onclick="cambiarTexto()">Cambiar Texto</button> -->

<!-- 
    <div class="product">
        <img src="producto1.jpg" alt="Producto 1">
        <h2>Producto 1</h2>
        <p>Stock: <span id="stock1">10</span></p>
        <input class="quantity-input" type="number" id="quantityInput1" min="0" value="0">
        <p>Cantidad en el carrito: <span id="cartCount1">0</span></p>
    </div>

    <div class="product">
        <img src="producto2.jpg" alt="Producto 2">
        <h2>Producto 2</h2>
        <p>Stock: <span id="stock2">20</span></p>
        <input class="quantity-input" type="number" id="quantityInput2" min="0" value="0">
        <p>Cantidad en el carrito: <span id="quantityInput2">   </span></p>
    </div> -->


    <!-- Agrega más productos aquí si es necesario -->
    <!-- Sección del carrito -->
    <div class="cart">
        <h2>Carrito</h2>
        <ul class="cart-list" id="cartList">
            <!-- Los elementos del carrito se agregarán aquí -->
        </ul>
        <p>Total: $<span id="cartTotal">0.00</span></p>
    </div>



    <script>
        const cartList = document.getElementById('cartList');
        const cartTotalElement = document.getElementById('cartTotal');
    
        const cart = {};

        function updateCartUI() {
            cartList.innerHTML = '';
            let total = 0;

            for (const productId in cart) {
                if (cart.hasOwnProperty(productId)) {
                    const product = cart[productId];
                    const listItem = document.createElement('li');
                    listItem.classList.add('cart-item');
                    listItem.innerHTML = `${product.name} x ${product.quantity} - $${(product.price * product.quantity).toFixed(2)}`;
                    cartList.appendChild(listItem);
                    total += product.price * product.quantity;
                }
            }

            cartTotalElement.textContent = total.toFixed(2);
        }

        function updateCartQuantity(productNumber) {
            const quantityInput = document.getElementById(`quantityInput${productNumber}`);
            const productName = `Producto ${productNumber}`;
            const productPrice = productNumber === 1 ? 19.99 : 29.99;
            const quantity = parseInt(quantityInput.value);

            const stockElement = document.getElementById(`stock${productNumber}`);
            const currentStock = parseInt(stockElement.textContent);

            if (quantity >= 0 && quantity <= currentStock) {
                cart[productNumber] = {
                    name: productName,
                    price: productPrice,
                    quantity: quantity
                };
                updateCartUI();
            } else {
                alert('Cantidad no válida. Por favor, ingrese una cantidad dentro del stock disponible.');
            }
        }

        // Escucha los cambios en la cantidad de productos
        document.getElementById('quantityInput1').addEventListener('change', function () {
            updateCartQuantity(1);
        });

        document.getElementById('quantityInput2').addEventListener('change', function () {
            updateCartQuantity(2);
        });

    </script>

</body>
</html>